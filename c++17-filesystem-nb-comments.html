<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style>
 ins  {background-color: #CCFFCC; text-decoration: none;}
 del  {background-color: #FFCACA; text-decoration: none;}
</style>
<title>Filesystem NB Comments C++17</title>
</head>

<body>
<table>
<tr>
  <td align="left">Doc. no.:</td>
  <td align="left">DxxxxR0</td>
</tr>
<tr>
  <td align="left">Date:</td>
  <td align="left">
  <!--webbot bot="Timestamp" S-Type="EDITED" S-Format="%Y-%m-%d" startspan -->2016-10-26<!--webbot bot="Timestamp" endspan i-checksum="12052" --></td>
</tr>
<tr>
  <td align="left">Reply to:</td>
  <td align="left">Beman Dawes &lt;bdawes at acm dot org&gt;
</tr>
<tr>
  <td align="left">Audience:</td>
  <td align="left">Library</td>
</tr>
</table>

<h1>Proposed Disposition of C++17  National Body Comments on Filesystem</h1>

<p>This document proposes disposition of C++17 National Body Comments from
<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0488r0.pdf">
P0488R0</a> and
<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0489r0.pdf">
P0489R0</a> related to 27.10 [filesystems] in
<a href="http://www.open-std.org/JTC1/SC22/WG21/docs/papers/2016/n4606.pdf">
N4606</a>.</p>

<p>The proposed dispositions represent the author&#39;s proposals. They do not 
necessarily represent the views of the C++ committee or the Library Working 
Group (LWG). </p>

<p>Following ISO procedures, the committee must respond to all national body 
comments as being accepted, accepted with modifications, or rejected. This 
document is organized into three sections of proposed dispositions corresponding 
to those categories, and two sections corresponding to work-in-process.</p>

<p><a href="#not-yet">Comments not yet considered</a><br>
<a href="#await-lwg">Comments awaiting LWG action</a><br>
<a href="#accept-original">Accept WP wording from comment&#39;s <i>Proposed change</i></a><i><br>
</i><a href="#accept-modified">Accept comment with modified WP wording</a><br>
<a href="#reject">Reject comment; no consensus for change</a></p>

<h2><a name="not-yet"></a>Comments not yet considered</h2>

<p>US 25<br>
US 31<br>
US 32<br>
US 33<br>
US 34<br>
US 35<br>
US 36<br>
US 37<br>
US 38<br>
US 39<br>
US 40<br>
US 41<br>
US 42<br>
US 43<br>
US 44<br>
US 45<br>
US 46<br>
US 47<br>
US 48<br>
US 49<br>
US 50<br>
US 51<br>
US 52<br>
US 53<br>
US 54<br>
US 55<br>
US 56<br>
US 57<br>
US 58<br>
US 59<br>
US 60<br>
US 62<br>
US 63<br>
US 73<br>
US 74<br>
US 75<br>
US 76<br>
US 77<br>
US 78<br>
US 79<br>
US 185<br>
CA 2<br>
CA 3<br>
CA 4<br>
CA 5<br>
CA 6<br>
CA 7<br>
CA 8</p>

<h2><a name="await-lwg"></a>Comments awaiting LWG action</h2>

<h2><a name="accept-original"></a>Accept WP wording from comment&#39;s <i>Proposed 
change</i></h2>

<h2><a name="accept-modified"></a>Accept comment with modified WP wording</h2>

<h3>US 61: Leading dots in filename() should not begin an extension</h3>

<p>Cases worth considering, with suggested decompositions:</p>

<blockquote>

  <table border="1" cellpadding="5" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111">
    <tr>
      <td><i><b><code>path p</code></b></i></td>
      <td><i><b><code>p.stem()</code></b></i></td>
      <td><i><b><code>p.extension()</code></b></i></td>
    </tr>
    <tr>
      <td><code>&quot;.bashrc&quot;</code></td>
      <td><code>&quot;.bashrc&quot;</code></td>
      <td>&quot;&quot;</td>
    </tr>
    <tr>
      <td><code>&quot;..abc&quot;</code></td>
      <td><code>&quot;..abc&quot;</code></td>
      <td>&quot;&quot;</td>
    </tr>
    <tr>
      <td>&quot;<code>...abc</code>&quot;</td>
      <td>&quot;<code>...abc</code>&quot;</td>
      <td>&quot;&quot;</td>
    </tr>
    <tr>
      <td>&quot;<code>abc..def</code>&quot;</td>
      <td>&quot;<code>abc</code>&quot;</td>
      <td>&quot;<code>..def</code>&quot;</td>
    </tr>
    <tr>
      <td>&quot;<code>abc...def</code>&quot;</td>
      <td>&quot;<code>abc</code>&quot;</td>
      <td>&quot;<code>...def</code>&quot;</td>
    </tr>
  </table>
</blockquote>

<p>Change 27.10.8.4.9 [path.decompose] ¶ 8:</p>

<blockquote>

<p><code>path stem() const;</code></p>

  <blockquote>

<p><i>Returns:</i> if <code>filename()</code> contains a period <del>but does not 
consist solely of one or two periods</del> <ins>other than in a sequence of one or 
more beginning periods</ins>, returns the substring of <code>filename()</code> 
starting at its beginning and ending with the character before the <del>last period</del> <ins>
first period of the last sequence of one or more periods</ins>.
Otherwise, returns <code>filename()</code>.</p>

  </blockquote>
</blockquote>

<p>Change 27.10.8.4.9 [path.decompose] ¶ 10:</p>

<blockquote>

<p><code>path extension() const;</code></p>

  <blockquote>

<p><i>Returns:</i> if <code>filename()</code> contains a period <del>but does not 
consist solely of one or two periods</del> <ins>other than in a sequence of one or 
more beginning periods</ins>, returns the substring of <code>filename()</code> 
starting at <ins>the beginning of</ins> the rightmost <ins>sequence of</ins> period<ins>s</ins> and for the remainder of the path. Otherwise, 
returns an empty <code>path</code> object.</p>

  </blockquote>
</blockquote>

<h2><a name="reject"></a>Reject comment; no consensus for change</h2>

<p>&quot;Rationale:&quot; where present, provides rationale for rejection.</p>

<p><b>US 185</b> - Fold <code>error_code</code> and non-<code>error_code</code> 
signatures into one signature. <b>Rationale:</b> Does not handle one being <code>
noexcept(true)</code> and the other <code>noexcept(false)</code>.</p>

<p><b>FI 14</b> - AKA
<a name="2761" href="http://cplusplus.github.io/LWG/lwg-closed.html#2761">2761.</a>
<tt>directory_entry</tt> comparisons are members.&nbsp; <b>Rationale:</b> 2761 
is NAD.</p>

<hr>

</body>

</html>